/**
 * PicoQ v0.0.2
 *
 * A tiny Javascript library to interact with the DOM
 * Copyright (c) 2017 Jclo <jclo@mobilabs.fr> (http://www.mobilabs.fr).
 * Released under the MIT license. You may obtain a copy of the License
 * at: http://www.opensource.org/licenses/mit-license.php).
 */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define([""],e):"object"==typeof exports?module.exports=e():t.PicoQ=e()}(this,function(){"use strict";var t,e,n;return t=function(n){return this instanceof t?n?(this[0]=e.querySelector(n),this):null:(e=t.VDOM?t.VDOM.window.document:window.document,new t(n))},t.prototype={},t._={extend:function(e){var n,i=Object.keys(e);for(n=0;n<i.length;n++)t.prototype[i[n]]=e[i[n]]},normalizeCssPropertyName:function(t){var e,n="string"==typeof t?t.split("-"):[],i="";for(e=0;e<n.length;e++)i+=0===e?n[e]:n[e].charAt(0).toUpperCase()+n[e].slice(1);return i}},n=t._,t._.extend({html:function(t){return t?(this[0].innerHTML=t,this):this[0]?this[0].innerHTML:void 0},empty:function(){for(var t=this[0];t.firstChild;)t.removeChild(t.firstChild);return this},append:function(t){return this[0].insertAdjacentHTML("beforeend",t),this},prepend:function(t){return this[0].insertAdjacentHTML("afterbegin",t),this},after:function(t){return this[0].insertAdjacentHTML("afterend",t),this},before:function(t){return this[0].insertAdjacentHTML("beforebegin",t),this},replaceWith:function(t,e){var n,i=this[0],r=this[0].parentNode,s=Array.prototype.indexOf.call(r.children,i),o=e?e.window.document.createElement("div"):document.createElement("div");return o.innerHTML=t,n=o.firstChild,r.replaceChild(n,i),this[0]=r.children[s],this},text:function(t){return t?(this[0].textContent=t,this):this[0].textContent}}),t._.extend({css:function(t,e){var i=n.normalizeCssPropertyName(t);return e?(this[0].style[i]=e,this):this[0].style[i]}}),t._.extend({getClassList:function(){return this[0].classList},addClass:function(t){return this[0].classList.add(t),this},removeClass:function(t){return this[0].classList.remove(t),this},toggleClass:function(t){return this[0].classList.toggle(t),this}}),t._.extend({attr:function(t,e){return e?(this[0].setAttribute(t,e),this):this[0].getAttribute(t)},removeAttr:function(t){return this[0].removeAttribute(t),this}}),t._.extend({on:function(t,e){return this[0].addEventListener(t,e),this},off:function(t,e){return this[0].removeEventListener(t,e),this},trigger:function(t){var n;return Event?n=new Event(t):(n=e.createEvent("Event")).initEvent(t,!0,!0),this[0].dispatchEvent(n)}}),t._anim={extractArgs:function(t,e,n){var i,r,s;switch(t||e||n?!t||e||e?t&&e&&!n?2:3:1:0){case 0:break;case 1:"number"==typeof t||"fast"===t||"slow"===t?i=t:"string"==typeof t?r=t:"[object Function]"===Object.prototype.toString.call(t)&&(s=t);break;case 2:"number"==typeof t||"fast"===t||"slow"===t?(i=t,"string"==typeof e?r=e:"[object Function]"===Object.prototype.toString.call(e)&&(s=e)):"string"==typeof t&&(r=t,"[object Function]"===Object.prototype.toString.call(e)&&(s=e));break;case 3:"number"!=typeof t&&"fast"!==t&&"slow"!==t||(i=t),"string"==typeof e&&(r=e),"[object Function]"===Object.prototype.toString.call(n)&&(s=n)}return{duration:i,easing:r,callback:s}},getProps:function(t,e){var i,r,s=Object.keys(e),o={},a=[];for(r=0;r<s.length;r++)i=n.normalizeCssPropertyName(s[r]),t.style[i]&&(a.push(i),o[i]={initial:parseFloat(t.style[i],10),change:parseFloat(e[s[r]])-parseFloat(t.style[i]),suffix:t.style[i].replace(/[0-9.]/g,"")});return o.name=a,o},run:function(e,n,i,r,s,o){var a,c,u=t._anim.getProps(e,n),l=e,f=0;a=setInterval(function(){for((f+=s)>r&&(clearInterval(a),o&&o()),c=0;c<u.name.length;c++)l.style[u.name[c]]=i(f,u[u.name[c]].initial,u[u.name[c]].change,r)+u[u.name[c]].suffix},s)},swing:function(t,e,n,i){return n*(.5-Math.cos(t/i*Math.PI)/2)+e}},t._.extend({animate:function(e,n,i,r){var s,o,a,c,u=this[0];return"[object Object]"!==Object.prototype.toString.call(e)?this:(s=t._anim.extractArgs(n,i,r),o="number"==typeof s.duration?s.duration:function(t){return"fast"===t?200:"slow"===t?600:400}(s.duration),a=t._easing&&t._easing[s.easing]?t._easing[s.easing]:t._anim.swing,c=s.callback?s.callback:null,t._anim.run(u,e,a,o,10,c),t.VDOM&&(this.probe={duration:o,easing:t._easing&&t._easing[s.easing]?s.easing:"swing",callback:c}),this)}}),t.VERSION="0.0.2",t});