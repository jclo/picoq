/** ****************************************************************************
 * PicoQ v0.0.9
 *
 * A tiny Javascript library to interact with the DOM.
 * (you can download it from npm or github repositories)
 * * Copyright (c) 2018 Jclo <jclo@mobilabs.fr> (http://www.mobilabs.fr).
 * Released under the MIT license. You may obtain a copy of the License
 * at: http://www.opensource.org/licenses/mit-license.php).
 *
 * PicoQ-easing includes portions of code for easing equations.
 * Open source under the BSD License.
 * Copyright (c) 2001 Robert Penner
 * ************************************************************************** */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define([""],e):"object"==typeof exports?(module.exports=e(t),null===t.PicoQ&&(t.PicoQ=e(t))):t.PicoQ=e(t)}(this,function(t){"use strict";var e,n,r,o;return e=function(t){return this instanceof e?t?(this[0]=document.querySelector(t),this):null:new e(t)},n=t.PicoQ,e.noConflict=function(){return t.PicoQ=n,this},e.VERSION="0.0.9",r={u:null,anim:null,ajax:null},e.setTestMode=function(){e.Pic=r},e.prototype={},e._={extend:function(t){var e,n,r,o;for(r=1;r<arguments.length;r++)for(e=arguments[r],n=Object.keys(e),o=0;o<n.length;o++)Object.prototype.hasOwnProperty.call(e,n[o])&&(t[n[o]]=e[n[o]]);return t}},o=e._,r.u={normalizeCssPropertyName:function(t){var e,n="[object String]"===Object.prototype.toString.call(t)?t.split("-"):[],r="";for(e=0;e<n.length;e++)r+=0===e?n[e]:n[e].charAt(0).toUpperCase()+n[e].slice(1);return r}},e._.extend(e.prototype,{select:function(t){var e;return"[object String]"===Object.prototype.toString.call(t)&&(e=this[0].querySelector(t))&&(this[0]=e),this},selectChild:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&(this[0]=this[0].children[t]?this[0].children[t]:this[0]),this},parent:function(){return this.root?this[0]!==this.root&&(this[0]=this[0].parentNode):this[0]=this[0].parentNode,this},firstParent:function(){return this.root&&(this[0]=this.root),this}}),e._.extend(e.prototype,{html:function(t){return t?(this[0].innerHTML=t,this):this[0]?this[0].innerHTML:void 0},empty:function(){for(var t=this[0];t.firstChild;)t.removeChild(t.firstChild);return this},append:function(t){return this[0].insertAdjacentHTML("beforeend",t),this},prepend:function(t){return this[0].insertAdjacentHTML("afterbegin",t),this},after:function(t){return this[0].insertAdjacentHTML("afterend",t),this},before:function(t){return this[0].insertAdjacentHTML("beforebegin",t),this},replaceWith:function(t){var e,n=this[0],r=this[0].parentNode,o=Array.prototype.indexOf.call(r.children,n),i=document.createElement("div");return i.innerHTML=t,e=i.firstChild,r.replaceChild(e,n),this[0]=r.children[o],this},text:function(t){return t?(this[0].textContent=t,this):this[0].textContent},clone:function(t){return!0===t||!1===t?this[0].cloneNode(t):this[0].cloneNode(!0)},insertChildBefore:function(t,e){return t&&this[0].insertBefore(t,e),this},removeChild:function(t){return t&&this[0].removeChild(t),this},replaceChild:function(t,e){return t&&this[0].replaceChild(t,e),this},children:function(){return this[0].children},childIndex:function(){for(var t=this[0],e=0;null!==t;)t=t.previousElementSibling,e+=1;return e-1},getRect:function(){return this[0]?this[0].getBoundingClientRect():null}}),e._.extend(e.prototype,{css:function(t,e){var n=r.u.normalizeCssPropertyName(t);return e?(this[0].style[n]=e,this):this[0].style[n]}}),e._.extend(e.prototype,{getClassList:function(){return this[0].classList},addClass:function(t){return"[object String]"===Object.prototype.toString.call(t)&&this[0].classList.add(t),this},addClasses:function(t){var e;if(Array.isArray(t))for(e=0;e<t.length;e++)this[0].classList.add(t[e]);return this},removeClass:function(t){return"[object String]"===Object.prototype.toString.call(t)&&this[0].classList.remove(t),this},removeClasses:function(t){var e;if(Array.isArray(t))for(e=0;e<t.length;e++)this[0].classList.remove(t[e]);return this},toggleClass:function(t){return this[0].classList.toggle(t),this},hasClass:function(t){var e=this[0].classList.value.split(" ");return"[object String]"===Object.prototype.toString.call(t)&&-1!==e.indexOf(t)}}),e._.extend(e.prototype,{attr:function(t,e){return e?(this[0].setAttribute(t,e),this):this[0].getAttribute(t)},removeAttr:function(t){return this[0].removeAttribute(t),this}}),e._.extend(e.prototype,{on:function(t,e){return this[0].addEventListener(t,e),this},off:function(t,e){return this[0].removeEventListener(t,e),this},trigger:function(t){var e;return Event?e=new Event(t):(e=document.createEvent("Event")).initEvent(t,!0,!0),this[0].dispatchEvent(e)},fire:function(t){return this.trigger(t)}}),e._easing={linear:function(t,e,n,r){return n*t/r+e},swing:function(t,e,n,r){return n*(.5-Math.cos(t/r*Math.PI)/2)+e},easeInSine:function(t,e,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+e},easeOutSine:function(t,e,n,r){return n*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+e},easeInQuad:function(t,e,n,r){return n*(t/=r)*t+e},easeOutQuad:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,n,r){return n*(t/=r)*t*t+e},easeOutCubic:function(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,n,r){return n*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,n,r){return-n*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},easeInExpo:function(t,e,n,r){return 0===t?e:n*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,n,r){return t===r?e+n:n*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,n,r){return 0===t?e:t===r?e+n:(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,n,r){return-n*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,n,r){return n*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInBack:function(t,e,n,r,o){return void 0===o&&(o=1.70158),n*(t/=r)*t*((o+1)*t-o)+e},easeOutBack:function(t,e,n,r,o){return void 0===o&&(o=1.70158),n*((t=t/r-1)*t*((o+1)*t+o)+1)+e},easeInOutBack:function(t,e,n,r,o){return void 0===o&&(o=1.70158),(t/=r/2)<1?n/2*(t*t*((1+(o*=1.525))*t-o))+e:n/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+e},easeInElastic:function(t,e,n,r){var o=1.70158,i=0,a=n;return 0===t?e:1==(t/=r)?e+n:(i||(i=.3*r),a<Math.abs(n)?(a=n,o=i/4):o=i/(2*Math.PI)*Math.asin(n/a),-a*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i)+e)},easeOutElastic:function(t,e,n,r){var o=1.70158,i=0,a=n;return 0===t?e:1==(t/=r)?e+n:(i||(i=.3*r),a<Math.abs(n)?(a=n,o=i/4):o=i/(2*Math.PI)*Math.asin(n/a),a*Math.pow(2,-10*t)*Math.sin((t*r-o)*(2*Math.PI)/i)+n+e)},easeInOutElastic:function(t,e,n,r){var o=1.70158,i=0,a=n;return 0===t?e:2==(t/=r/2)?e+n:(i||(i=r*(.3*1.5)),a<Math.abs(n)?(a=n,o=i/4):o=i/(2*Math.PI)*Math.asin(n/a),t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i)*-.5+e:a*Math.pow(2,-10*(t-=1))*Math.sin((t*r-o)*(2*Math.PI)/i)*.5+n+e)},easeInBounce:function(t,e,n,r){return n-this.easeOutBounce(r-t,0,n,r)+e},easeOutBounce:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},easeInOutBounce:function(t,e,n,r){return t<r/2?.5*this.easeInBounce(2*t,0,n,r)+e:.5*this.easeOutBounce(2*t-r,0,n,r)+.5*n+e}},e._easing.VERSION="0.0.1",r.anim={extractArgs:function(t,e,n){var r,o,i;switch(t||e||n?!t||e||e?t&&e&&!n?2:3:1:0){case 0:break;case 1:"[object Number]"===Object.prototype.toString.call(t)||"fast"===t||"slow"===t?r=t:"[object String]"===Object.prototype.toString.call(t)?o=t:"[object Function]"===Object.prototype.toString.call(t)&&(i=t);break;case 2:"[object Number]"===Object.prototype.toString.call(t)||"fast"===t||"slow"===t?(r=t,"[object String]"===Object.prototype.toString.call(e)?o=e:"[object Function]"===Object.prototype.toString.call(e)&&(i=e)):"[object String]"===Object.prototype.toString.call(t)&&(o=t,"[object Function]"===Object.prototype.toString.call(e)&&(i=e));break;case 3:"[object Number]"!==Object.prototype.toString.call(t)&&"fast"!==t&&"slow"!==t||(r=t),"[object String]"===Object.prototype.toString.call(e)&&(o=e),"[object Function]"===Object.prototype.toString.call(n)&&(i=n)}return{duration:r,easing:o,callback:i}},getProps:function(t,e){var n,o,i,a,c=Object.keys(e),s=window.getComputedStyle(t),u={},l=[];for(a=0;a<c.length;a++)n=r.u.normalizeCssPropertyName(c[a]),(o=s.getPropertyValue(n))&&(l.push(n),o=parseFloat(o,10),"%"===(i=e[c[a]].replace(/[0-9.]/g,""))&&(o=o/parseFloat(window.getComputedStyle(t.parentNode).getPropertyValue(n))*100),u[n]={initial:o,change:parseFloat(e[c[a]])-o,suffix:i});return u.name=l,u},run:function(t,e,n,o,i,a){var c,s,u,l=r.anim.getProps(t,e),h=t,p=0;c=setInterval(function(){for(u=0;u<l.name.length;u++)s=n(p,l[l.name[u]].initial,l[l.name[u]].change,o),h.style[l.name[u]]=s+l[l.name[u]].suffix;(p+=i)>o&&(clearInterval(c),a&&a())},i)},swing:function(t,e,n,r){return n*(.5-Math.cos(t/r*Math.PI)/2)+e}},e._.extend(e.prototype,{animate:function(t,n,o,i){var a,c,s,u,l,h=this[0];return"[object Object]"!==Object.prototype.toString.call(t)?this:(a=r.anim.extractArgs(n,o,i),c="[object Number]"===Object.prototype.toString.call(a.duration)?a.duration:"fast"===(l=a.duration)?200:"slow"===l?600:400,s=e._easing&&e._easing[a.easing]?e._easing[a.easing]:r.anim.swing,u=a.callback?a.callback:null,r.anim.run(h,t,s,c,10,u),e.VDOM&&(this.probe={duration:c,easing:e._easing&&e._easing[a.easing]?a.easing:"swing",callback:u}),this)}}),r.ajax={getDefaultSettings:function(){return{url:"",method:"GET",dataType:"text",contentType:"application/x-www-form-urlencoded; charset=UTF-8"}},getArguments:function(t){var e,n,r=this.getDefaultSettings();switch(t.length){case 0:e="",n=o.extend(r);break;case 1:"[object String]"===Object.prototype.toString.call(t[0])?(e=t[0],n=o.extend(r)):"[object Object]"===Object.prototype.toString.call(t[0])?(e="[object String]"===Object.prototype.toString.call(t[0].url)?t[0].url:"",n=o.extend(r,t[0])):(e="",n=o.extend(r));break;case 2:default:e="[object String]"===Object.prototype.toString.call(t[0])?t[0]:"",n="[object Object]"===Object.prototype.toString.call(t[1])?o.extend(r,t[1]):o.extend(r)}return{url:e,settings:n}},getSettings:function(t){var e={url:null,data:null,success:null,dataType:null};switch(t.length){case 0:break;case 1:if("[object String]"===Object.prototype.toString.call(t[0])){e.url=t[0];break}"[object Object]"===Object.prototype.toString.call(t[0])&&(e=t[0]);break;case 2:if("[object String]"!==Object.prototype.toString.call(t[0]))break;if(e.url=t[0],"[object Object]"===Object.prototype.toString.call(t[1])){e.data=t[1];break}if("[object Function]"===Object.prototype.toString.call(t[1])){e.success=t[1];break}"[object String]"===Object.prototype.toString.call(t[1])&&(e.dataType=t[1]);break;case 3:if("[object String]"!==Object.prototype.toString.call(t[0]))break;if(e.url=t[0],"[object Object]"===Object.prototype.toString.call(t[1])){if(e.data=t[1],"[object Function]"===Object.prototype.toString.call(t[2])){e.success=t[2];break}"[object String]"===Object.prototype.toString.call(t[2])&&(e.dataType=t[2]);break}"[object Function]"===Object.prototype.toString.call(t[1])&&(e.success=t[1]),"[object String]"===Object.prototype.toString.call(t[2])&&(e.dataType=t[2]);break;case 4:default:if("[object String]"!==Object.prototype.toString.call(t[0]))break;e.url=t[0],"[object Object]"===Object.prototype.toString.call(t[1])&&(e.data=t[1]),"[object Function]"===Object.prototype.toString.call(t[2])&&(e.success=t[2]),"[object String]"===Object.prototype.toString.call(t[3])&&(e.dataType=t[3])}return e},encodeParams:function(t){var e,n,r="";if("[object Object]"!==Object.prototype.toString.call(t))return null;for(e=Object.keys(t),n=0;n<e.length;n++)r+=0===n?e[n]+"="+encodeURIComponent(t[e[n]]):"&"+e[n]+"="+encodeURIComponent(t[e[n]]);return r},register:function(t,e,n){return function(r){var o={};return r?(o[n]=r,e.push(o)):(o[n]=null,e.push(o)),t}},fire:function(t,e,n){var r,o,i;switch(n){case"success":for(i=0;i<t.length;i++)r=Object.keys(t[i])[0],o=t[i][r],"[object Function]"!==Object.prototype.toString.call(o)||"done"!==r&&"always"!==r&&"success"!==r||o(e.responseText,e.statusText,e);break;case"error":for(i=0;i<t.length;i++)r=Object.keys(t[i])[0],"function"!=typeof(o=t[i][r])||"fail"!==r&&"always"!==r||o(e,e.statusText);break;default:throw new Error("Pic.ajax.fire: this case must never happen!")}}},e.ajax=function(){var t=r.ajax,e=t.getArguments(arguments),n=new window.XMLHttpRequest,o=[],i=e.url,a=e.settings;return n.done=t.register(n,o,"done"),n.fail=t.register(n,o,"fail"),n.always=t.register(n,o,"always"),n.onreadystatechange=function(){4===n.readyState&&(200===n.status||0===n.status?(t.fire(o,n,"success"),a.success&&("json"===a.dataType?a.success(JSON.parse(n.responseText),n.statusText,n):a.success(n.responseText,n.statusText,n))):t.fire(o,n,"error"))},"GET"===a.method?(a.data&&(i+="?"+t.encodeParams(a.data)),n.open("GET",i,!0),n.send(null)):(n.open("POST",i,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(t.encodeParams(a.data))),n},e.get=function(){var t=r.ajax.getSettings(arguments);return t.method="GET",e.ajax(t)},e.getJSON=function(){var t=r.ajax.getSettings(arguments);return t.method="GET",t.dataType="json",e.ajax(t)},e.post=function(){var t=r.ajax.getSettings(arguments);return t.method="POST",e.ajax(t)},e._.extend(e.prototype,{load:function(){var t,n=this,o=r.ajax.getSettings(arguments);return this[0]?(t=o.success,o.success=void 0,o.method=o.data?"POST":"GET",e.ajax(o).done(function(e){n.html(e),"[object Function]"===Object.prototype.toString.call(t)&&t()}),this):this}}),e});